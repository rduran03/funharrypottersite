<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Hogwarts</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
            color: #f4f4f4;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQnIGhlaWdodD0iMjQnIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMThExMy4wOSA4LjI2TDIwIDlMMTMuMDkgMTUuNzRMTEyIDIyTDEwLjkxIDE1Ljc0TDRDOjlMMTAuOTEgOC4yNkwxMiAxWiIgZmlsbD0iI0ZGRDcwMCIgc3Ryb2tlPSIjRkZENzAwIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg=='), auto;
            transition: filter 1s ease-in-out; /* For Lumos effect */
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .content {
            position: relative;
            z-index: 10;
        }

        /* Floating Hogwarts Letters */
        .floating-letter {
            position: fixed;
            font-size: 2em;
            color: #ffd700;
            pointer-events: none;
            z-index: 5;
            animation: floatLetter 15s linear infinite;
        }

        @keyframes floatLetter {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        /* Acceptance Letter Modal */
        .letter-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 1s ease-in;
            padding: 10px; /* Add padding for smaller screens */
        }

        .letter-container {
            background: linear-gradient(145deg, #f4e4bc, #e8d5a3);
            border: 3px solid #8b4513;
            border-radius: 15px;
            padding: 40px;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            animation: letterFlyIn 2s ease-out;
            position: relative;
            color: #2c1810;
            width: 100%; /* Make it take full width on small screens */
            max-height: 90vh; /* Limit height */
            overflow-y: auto; /* Allow scrolling if content is too tall */
        }

        .letter-container::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 40px;
            background: #8b4513;
            border-radius: 50%;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
        }

        .letter-header {
            font-family: 'Cinzel', serif;
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #1a472a;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .letter-content {
            font-size: 1.4em;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .hogwarts-crest {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: radial-gradient(circle, #ffd700, #ffed4a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            animation: glow 2s ease-in-out infinite alternate;
        }

        .enter-btn {
            background: linear-gradient(45deg, #1a472a, #2d5016);
            color: #ffd700;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .enter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        /* Main Navigation */
        .nav-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            background: rgba(26, 71, 42, 0.9);
            border-radius: 30px;
            padding: 10px 20px;
            backdrop-filter: blur(10px);
            max-width: 95%; /* Limit width on small screens */
            overflow-x: auto; /* Allow horizontal scrolling if menu items overflow */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }

        .nav-menu {
            display: flex;
            gap: 20px;
            list-style: none;
            flex-wrap: nowrap; /* Prevent wrapping on small screens, enable scrolling */
            justify-content: center; /* Center items by default */
        }

        .nav-item {
            color: #ffd700;
            text-decoration: none;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.9em;
            white-space: nowrap; /* Prevent text wrapping inside nav items */
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        /* Page Sections */
        .page-section {
            min-height: 100vh;
            padding: 100px 20px 50px;
            display: none;
            padding-top: 120px; /* Adjust padding for fixed nav bar */
        }

        .page-section.active {
            display: block;
        }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 3em;
            text-align: center;
            margin-bottom: 50px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Hufflepuff House Section */
        .house-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
        }

        .house-crest {
            width: 150px;
            height: 150px;
            margin: 0 auto 30px;
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            animation: rotate 10s linear infinite;
        }

        .house-quote {
            font-size: 1.5em;
            font-style: italic;
            margin: 30px 0;
            color: #ffd700;
        }

        /* Potions Section */
        .potions-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .potion-bottle {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .potion-bottle:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.3);
        }

        .potion-bottle::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.2) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .potion-bottle:hover::before {
            opacity: 1;
            animation: bubble 1s ease-in-out;
        }

        .potion-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .potion-message {
            display: none;
            font-size: 1.2em;
            line-height: 1.6;
            color: #ffd700;
            margin-top: 15px;
        }

        /* Marauder's Map */
        .map-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(139, 69, 19, 0.2);
            border: 3px solid #8b4513;
            border-radius: 20px;
            padding: 40px;
            position: relative;
            min-height: 600px;
            height: 70vh; /* Define a height for better mobile layout */
            overflow: hidden; /* Hide overflow from map locations */
        }

        .map-location {
            position: absolute;
            width: 120px;
            height: 120px;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #ffd700;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            text-align: center;
            font-weight: 600;
            box-sizing: border-box; /* Include padding/border in width/height */
        }

        .map-location:hover {
            transform: scale(1.1);
            background: rgba(255, 215, 0, 0.4);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }

        .location-1 { top: 10%; left: 15%; }
        .location-2 { top: 30%; right: 15%; }
        .location-3 { bottom: 20%; left: 10%; }
        .location-4 { bottom: 10%; right: 15%; }
        .location-5 { top: 5%; left: 45%; } /* New location */
        .location-6 { bottom: 5%; right: 45%; } /* New location */


        .location-details {
            display: none;
            position: absolute;
            background: rgba(26, 71, 42, 0.95);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            max-width: 300px;
            color: #f4f4f4;
            z-index: 50;
            box-sizing: border-box;
            transform: translate(-50%, 0); /* Center details relative to its left position */
        }

        /* Magic Wand Section */
        .wand-container {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .wand-area {
            height: 400px;
            border: 2px dashed #ffd700;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            color: #ffd700;
            cursor: none;
            position: relative;
            margin: 50px 0;
            background: rgba(255, 215, 0, 0.05);
        }

        .magic-message {
            display: none;
            font-size: 1.8em;
            line-height: 1.6;
            color: #ffd700;
            text-align: center;
            animation: magicAppear 1s ease-out;
        }

        .magic-particle {
            position: absolute;
            pointer-events: none;
            color: #ffd700;
            font-size: 1.5em;
            animation: sparkle 1s ease-out forwards;
        }

        /* Diagon Alley Section */
        .shop-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .shop {
            background: rgba(139, 69, 19, 0.2);
            border: 2px solid #8b4513;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .shop:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(139, 69, 19, 0.4);
        }

        .shop::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .shop:hover::before {
            left: 100%;
        }

        .shop-icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
        }

        /* Spells Section */
        .spells-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .spell-card {
            background: rgba(26, 71, 42, 0.3);
            border: 2px solid #1a472a;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden; /* For floating spell effect */
        }

        .spell-card:hover {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            transform: translateY(-5px);
        }

        .spell-name {
            font-family: 'Cinzel', serif;
            font-size: 1.5em;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .spell-incantation {
            font-style: italic;
            color: #b8860b;
            margin-bottom: 15px;
        }

        .spell-effect {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ffd700;
        }

        /* Levioso Effect */
        .levitate {
            animation: levitateEffect 2s ease-in-out forwards;
            position: relative;
            z-index: 999;
        }

        @keyframes levitateEffect {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }

        /* Lumos Effect */
        body.lumos-active {
            filter: brightness(1.5) saturate(1.2);
        }

        /* Confundo Effect */
        body.confundo-active {
            direction: rtl; /* Right-to-left text */
        }
        .confundo-active .content > section {
            transform: rotateY(180deg); /* Mirror effect */
            transition: transform 0.5s ease;
        }
        .confundo-active .content > section * {
            transform: rotateY(180deg); /* Re-mirror text */
        }
        
        /* Protego Effect */
        body.protego-active {
            cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQiIHN0cm9rZT0iIzQ2NURDQSIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik0xNiA0VjI4TTQgMTZIMjgiIHN0cm9rZT0iIzQ2NURDQSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+Cg=='), auto !important; /* Shield icon */
        }
        .protego-active .nav-item,
        .protego-active .potion-bottle,
        .protego-active .map-location,
        .protego-active .wand-area,
        .protego-active .shop,
        .protego-active .spell-card,
        .protego-active .creature-card,
        .protego-active .golden-snitch,
        .protego-active .room-door,
        .protego-active .enter-btn,
        .protego-active .sorting-hat {
            pointer-events: none;
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        /* Incendio Effect */
        .incendio-active .section-title,
        .incendio-active .house-quote,
        .incendio-active .potion-icon,
        .incendio-active .map-location,
        .incendio-active .magic-message,
        .incendio-active .shop-icon,
        .incendio-active .spell-name,
        .incendio-active .creature-emoji,
        .incendio-active .golden-snitch,
        .incendio-active .room-door,
        .incendio-active .class-icon,
        .incendio-active .horcrux,
        .incendio-active .prophet-headline {
            filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.7)) brightness(1.2);
            transition: filter 0.5s ease-in-out;
        }

        /* Silencio Effect */
        body.silencio-active {
            filter: grayscale(100%);
            transition: filter 1s ease-in-out;
        }

        /* Petrificus Totalus Effect */
        .petrificus-active .nav-item,
        .petrificus-active .potion-bottle,
        .petrificus-active .map-location,
        .petrificus-active .wand-area,
        .petrificus-active .shop,
        .petrificus-active .spell-card,
        .petrificus-active .creature-card,
        .petrificus-active .golden-snitch,
        .petrificus-active .room-door,
        .petrificus-active .enter-btn,
        .petrificus-active .sorting-hat {
            pointer-events: none;
            transform: scale(0.9) rotate(5deg);
            opacity: 0.7;
            transition: all 0.5s ease;
        }


        /* Magical Creatures Section */
        .creatures-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .creature-card {
            background: rgba(16, 33, 62, 0.4);
            border: 2px solid #16213e;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .creature-card:hover {
            border-color: #ffd700;
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .creature-emoji {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
            animation: creatureFloat 3s ease-in-out infinite;
        }

        @keyframes creatureFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .creature-name {
            font-family: 'Cinzel', serif;
            font-size: 1.8em;
            color: #ffd700;
            margin-bottom: 15px;
        }

        /* Quidditch Section */
        .quidditch-field {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(34, 139, 34, 0.2);
            border: 3px solid #228b22;
            border-radius: 50px;
            padding: 40px;
            position: relative;
            min-height: 500px;
            height: 60vh; /* Define a height for better mobile layout */
            overflow: hidden;
        }

        .golden-snitch {
            position: absolute;
            font-size: 2em;
            animation: snitchFly 8s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .golden-snitch:hover {
            transform: scale(1.5);
            filter: drop-shadow(0 0 10px #ffd700);
        }

        @keyframes snitchFly {
            0% { transform: translate(10%, 10%); }
            25% { transform: translate(70%, 40%); }
            50% { transform: translate(40%, 70%); }
            75% { transform: translate(80%, 20%); }
            100% { transform: translate(10%, 10%); }
        }

        .quidditch-info {
            text-align: center;
            padding: 40px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 20px;
            margin-top: 30px;
        }

        /* Room of Requirement */
        .room-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            background: rgba(75, 0, 130, 0.2);
            border: 2px solid #4b0082;
            border-radius: 20px;
            padding: 40px;
            position: relative;
        }

        .room-door {
            width: 200px;
            height: 250px;
            background: linear-gradient(145deg, #8b4513, #a0522d);
            border-radius: 10px;
            margin: 30px auto;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .room-door:hover {
            transform: perspective(600px) rotateY(-5deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }

        .door-handle {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 15px;
            background: #ffd700;
            border-radius: 50%;
        }

        .room-wish {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            animation: magicAppear 1s ease-out;
        }

        /* Classes Section */
        .classes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .class-card {
            background: rgba(0, 100, 0, 0.3); /* Dark green for classes */
            border: 2px solid #008000;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .class-card:hover {
            border-color: #32cd32; /* Lime green on hover */
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 100, 0, 0.4);
        }

        .class-icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
        }

        .class-message {
            display: none;
            font-size: 1.2em;
            line-height: 1.6;
            color: #ffd700;
            margin-top: 15px;
        }

        /* Horcrux Hunt Section */
        .horcrux-hunt-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.4);
            border: 3px solid #4b0082; /* Dark purple border */
            border-radius: 20px;
            padding: 40px;
            position: relative;
            min-height: 500px;
            height: 60vh;
            overflow: hidden;
            text-align: center;
        }

        .horcrux-hunt-container p {
            margin-bottom: 30px;
            font-size: 1.3em;
            color: #ffd700;
        }

        .horcrux {
            position: absolute;
            font-size: 2.5em;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;
            filter: grayscale(80%) blur(1px); /* Make them harder to see initially */
        }

        .horcrux:hover {
            transform: scale(1.2);
            filter: grayscale(0%) blur(0px) drop-shadow(0 0 10px #ff0000); /* Red glow on hover */
        }

        #horcrux-count {
            font-size: 1.8em;
            color: #ff4500; /* Orange-red for count */
            margin-top: 20px;
        }

        #horcrux-message {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 0, 0, 0.1);
            border-radius: 15px;
            animation: magicAppear 1s ease-out;
            color: #f4f4f4;
            border-left: 4px solid #ff0000;
        }

        /* Daily Prophet Section */
        .prophet-container {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(180deg, #f4e4bc, #e8d5a3);
            border: 4px solid #8b4513;
            border-radius: 10px;
            padding: 30px;
            color: #2c1810;
            text-align: center;
        }

        .prophet-title {
            font-family: 'Cinzel', serif;
            font-size: 3.5em;
            color: #1a472a;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            border-bottom: 3px double #8b4513;
            padding-bottom: 10px;
        }

        .prophet-subtitle {
            font-size: 1.2em;
            font-style: italic;
            margin-bottom: 30px;
            color: #4b0082;
        }

        .prophet-headlines {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .prophet-headline {
            background: #fff;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            font-family: 'Crimzel Text', serif; /* Corrected typo to Crimson Text */
            font-size: 1.3em;
            font-weight: 600;
            color: #0f0f23;
        }

        .prophet-headline:hover {
            background: #f0f0f0;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .prophet-snippet {
            display: none;
            margin-top: 10px;
            font-size: 1em;
            color: #555;
            line-height: 1.5;
        }

        /* Sorting Hat Section */
        .sorting-hat-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            background: rgba(100, 0, 0, 0.2); /* Dark red for Gryffindor feel */
            border: 2px solid #800000;
            border-radius: 20px;
            padding: 40px;
            position: relative;
        }

        .sorting-hat {
            width: 200px;
            height: 150px;
            margin: 30px auto;
            background: linear-gradient(145deg, #4d331a, #664422);
            border-radius: 50% / 30%; /* Oval shape for hat base */
            position: relative;
            cursor: pointer;
            transition: all 0.5s ease;
            box-shadow: 0 15px 30px rgba(0,0,0,0.4);
            border: 3px solid #2c1810;
        }

        .sorting-hat::before {
            content: '';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 100px;
            background: inherit;
            border-radius: 50%;
            border: inherit;
            border-bottom: none;
        }

        .sorting-hat::after {
            content: '';
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%) rotate(-15deg);
            width: 40px;
            height: 80px;
            background: inherit;
            border-top-left-radius: 100px;
            border-top-right-radius: 5px;
            border: inherit;
            border-bottom: none;
        }

        .sorting-hat:hover {
            transform: translateY(-10px) rotate(-3deg);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }

        .sorting-result {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            animation: magicAppear 1s ease-out;
            font-size: 1.5em;
            line-height: 1.6;
        }


        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes letterFlyIn {
            0% { transform: translateY(-100px) rotate(-10deg); opacity: 0; }
            100% { transform: translateY(0) rotate(0deg); opacity: 1; }
        }

        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            to { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes bubble {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        @keyframes magicAppear {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes sparkle {
            0% { opacity: 1; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0) translateY(-50px); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .letter-header {
                font-size: 1.8em;
            }
            .letter-content {
                font-size: 1.1em;
            }
            .enter-btn {
                font-size: 1em;
                padding: 10px 20px;
            }

            .nav-container {
                top: 10px;
                padding: 5px 10px;
                max-width: 98%;
            }

            .nav-menu {
                gap: 10px;
                justify-content: flex-start; /* Ensure left-alignment for scrollability */
            }

            .nav-item {
                font-size: 0.8em;
                padding: 6px 10px;
            }

            .page-section {
                padding: 100px 10px 30px;
                padding-top: 100px; /* Adjust padding for fixed nav bar on smaller screens */
            }

            .section-title {
                font-size: 2em;
                margin-bottom: 30px;
            }

            .house-container,
            .potions-container,
            .wand-container,
            .shop-row,
            .spells-grid,
            .creatures-container,
            .quidditch-field,
            .room-container,
            .classes-grid,
            .horcrux-hunt-container,
            .prophet-container,
            .sorting-hat-container {
                padding: 20px;
                gap: 20px;
            }

            .potions-container,
            .shop-row,
            .spells-grid,
            .creatures-container,
            .classes-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Adjust min-width for smaller screens */
            }

            .map-container,
            .horcrux-hunt-container {
                min-height: 400px;
                height: 50vh;
                padding: 20px;
            }

            .map-location {
                width: 90px;
                height: 90px;
                font-size: 0.75em;
            }

            .location-1 { top: 8%; left: 10%; }
            .location-2 { top: 25%; right: 10%; }
            .location-3 { bottom: 15%; left: 5%; }
            .location-4 { bottom: 8%; right: 10%; }
            .location-5 { top: 3%; left: 40%; }
            .location-6 { bottom: 3%; right: 40%; }

            .location-details {
                max-width: 250px;
                padding: 15px;
                font-size: 0.9em;
                left: 50% !important; /* Override inline style for centering */
                transform: translateX(-50%);
                top: auto !important; /* Reset top to allow positioning from bottom/top */
                bottom: 10px; /* Position at the bottom of the map container */
            }
            /* Specific adjustment for map details to prevent overflow, might need more refinement based on content */
            .location-details h3 {
                font-size: 1.2em;
            }

            .wand-area {
                height: 300px;
                font-size: 1.2em;
            }

            .magic-message {
                font-size: 1.4em;
            }

            .shop-icon, .creature-emoji, .class-icon {
                font-size: 3em;
            }

            .golden-snitch {
                font-size: 1.5em;
            }
            @keyframes snitchFly {
                0% { transform: translate(5%, 5%); }
                25% { transform: translate(60%, 30%); }
                50% { transform: translate(30%, 60%); }
                75% { transform: translate(70%, 15%); }
                100% { transform: translate(5%, 5%); }
            }

            .quidditch-info {
                padding: 20px;
                font-size: 1.1em;
            }

            .room-door {
                width: 150px;
                height: 200px;
            }

            .room-wish {
                font-size: 1.2em;
                padding: 15px;
            }
            .horcrux {
                font-size: 2em;
            }
            .prophet-title {
                font-size: 2.5em;
            }
            .prophet-headline {
                font-size: 1.1em;
            }
            .sorting-hat {
                width: 150px;
                height: 120px;
            }
            .sorting-result {
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            .letter-header {
                font-size: 1.5em;
            }
            .letter-content {
                font-size: 1em;
            }

            .nav-item {
                font-size: 0.7em;
                padding: 5px 8px;
            }
            .section-title {
                font-size: 1.8em;
            }

            .potions-container,
            .shop-row,
            .spells-grid,
            .creatures-container,
            .classes-grid {
                grid-template-columns: minmax(150px, 1fr); /* Single column layout for very small screens */
            }

            .map-container,
            .horcrux-hunt-container {
                min-height: 350px;
                height: 45vh;
            }

            .map-location {
                width: 70px;
                height: 70px;
                font-size: 0.7em;
            }
            .location-details {
                max-width: 90%; /* Allow details to take more width */
                font-size: 0.8em;
            }

            .wand-area {
                height: 250px;
                font-size: 1em;
            }
            .magic-message {
                font-size: 1.1em;
            }

            .quidditch-info {
                font-size: 1em;
            }
            .horcrux {
                font-size: 1.8em;
            }
            .prophet-title {
                font-size: 2em;
            }
            .prophet-headline {
                font-size: 1em;
            }
            .sorting-hat {
                width: 120px;
                height: 100px;
            }
            .sorting-result {
                font-size: 1.1em;
            }
        }


            /* Potion Making Section */
        /* Potion Making Section - NEW STYLES */
        .cauldron-placeholder {
            position: absolute; /* Allows ingredients to be appended while text is centered */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap; /* Prevents text from wrapping */
            color: #b0b0b0;
            font-style: italic;
            transition: opacity 0.3s ease; /* Smooth fade for placeholder */
        }

        .brew-button {
            background-color: #a0522d; /* Sienna color for a rustic look */
            color: #fff;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            margin-top: 30px; /* Space between cauldron and button */
            transition: background-color 0.3s ease, transform 0.1s ease;
            font-weight: bold;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .brew-button:hover {
            background-color: #8b4513; /* Darker brown on hover */
            transform: translateY(-2px); /* Slight lift effect */
        }

        .brew-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }


        /* Notable Wizarding Events & Dates Section */
        #wizarding-events {
            background: linear-gradient(135deg, #443e3e 0%, #5c5555 100%); /* Dark, aged paper/stone feel */
            padding: 50px 20px;
            text-align: center;
            color: #f8f8f8;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid */
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.2); /* Subtle transparent background */
            border-radius: 15px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
        }

        .event-card {
            background-color: #3a3434; /* Darker grey-brown */
            border: 2px solid #8b4513; /* SaddleBrown, like old wood or leather */
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Distribute content */
            align-items: center;
        }

        .event-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.6);
            border-color: #daa520; /* Goldenrod glow on hover */
        }

        .event-year {
            font-family: 'Cinzel', serif;
            color: #ffd700; /* Gold for year */
            font-size: 1.6em;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .event-name {
            font-family: 'Cinzel', serif;
            color: #f0f0f0;
            font-size: 1.4em;
            margin-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .event-desc {
            font-size: 1.0em;
            color: #d3d3d3;
            line-height: 1.5;
        }


        /* Magical Plants & Herbology Section */
        #magical-plants {
            background: linear-gradient(135deg, #1f402e 0%, #3a634e 100%); /* Deep forest greens, earthy */
            padding: 50px 20px;
            text-align: center;
            color: #f0fff0; /* Honeydew color */
        }

        .plants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid */
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.2); /* Subtle transparent background */
            border-radius: 15px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
        }

        .plant-card {
            background-color: #2e523f; /* Darker green */
            border: 2px solid #5a8d6f; /* Muted green border, organic feel */
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .plant-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.6);
            border-color: #98fb98; /* Pale green glow on hover */
        }

        .plant-img {
            width: 150px;
            height: 150px;
            object-fit: contain; /* Ensure entire image is visible */
            margin-bottom: 15px;
            filter: drop-shadow(0 0 8px rgba(144, 238, 144, 0.7)); /* Greenish glow */
        }

        .plant-name {
            font-family: 'Cinzel', serif;
            color: #add8e6; /* Light blue, contrasting with green */
            margin-bottom: 10px;
            font-size: 1.8em;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
        }

        .plant-desc {
            font-size: 1.0em;
            color: #d1ffd1; /* Lighter green */
            line-height: 1.5;
        }


        /* Wizarding Professions & Careers Section */
        #wizarding-careers {
            background: linear-gradient(135deg, #1c2833 0%, #2e4053 100%); /* Dark, professional blues/greys */
            padding: 50px 20px;
            text-align: center;
            color: #f5f5f5; /* Light grey */
        }

        .careers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid */
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3); /* Subtle transparent background */
            border-radius: 15px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.4);
        }

        .career-card {
            background-color: #2c3e50; /* Darker blue-grey */
            border: 2px solid #6c7a89; /* Muted grey-blue border */
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Align content to the top */
        }

        .career-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.6);
            border-color: #f4d03f; /* Amber glow on hover */
        }

        .career-title {
            font-family: 'Cinzel', serif;
            color: #d1b43b; /* Gold/bronze color */
            margin-bottom: 10px;
            font-size: 2.0em;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
        }

        .career-desc {
            font-size: 1.0em;
            color: #d3d3d3;
            line-height: 1.5;
            margin-bottom: 15px;
            flex-grow: 1; /* Allow description to take available space */
        }

        .career-example {
            font-size: 0.9em;
            color: #a0a0a0;
            font-style: italic;
        }


        
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <div class="letter-modal" id="letterModal">
        <div class="letter-container">
            <div class="hogwarts-crest">🦉</div>
            <h1 class="letter-header">HOGWARTS SCHOOL<br>of WITCHCRAFT and WIZARDRY</h1>
            <div class="letter-content">
                <p><strong></strong></p>
                <p>We are pleased to inform you that you have been accepted at Hogwarts School of Witchcraft and Wizardry.</p>
                <p>Your magical journey awaits within these enchanted pages.</p>
                <p><em>Yours sincerely,</em><br><strong>Minerva McGonagall<br>Deputy Headmistress</strong></p>
            </div>
            <button class="enter-btn" onclick="enterHogwarts()">Enter the Magical World</button>
        </div>
    </div>

    <nav class="nav-container" id="navigation" style="display: none;">
        <ul class="nav-menu">
            <li><a class="nav-item active" onclick="showSection('house')">Main</a></li>
            <li><a class="nav-item" onclick="showSection('potions')">Potions & Messages</a></li>
            <li><a class="nav-item" onclick="showSection('map')">Marauder's Map</a></li>
            <li><a class="nav-item" onclick="showSection('wand')">Magic Wand</a></li>
            <li><a class="nav-item" onclick="showSection('diagon')">Diagon Alley</a></li>
            <li><a class="nav-item" onclick="showSection('spells')">Spell Book</a></li>
            <li><a class="nav-item" onclick="showSection('creatures')">Magical Creatures</a></li>
            <li><a class="nav-item" onclick="showSection('quidditch')">Quidditch Pitch</a></li>
            <li><a class="nav-item" onclick="showSection('room')">Room of Requirement</a></li>
            <li><a class="nav-item" onclick="showSection('classes')">Classes</a></li>
            <li><a class="nav-item" onclick="showSection('horcrux-hunt')">Horcrux Hunt</a></li>
            <li><a class="nav-item" onclick="showSection('prophet')">Daily Prophet</a></li>
            <li><a class="nav-item" onclick="showSection('sorting-hat')">Sorting Hat</a></li>
            <li><a class="nav-item" onclick="showSection('wizarding-events')">Events</a></li>
            <li><a class="nav-item" onclick="showSection('magical-plants')">Plants</a></li>
            <li><a class="nav-item" onclick="showSection('wizarding-careers')">wizarding-careers</a></li>

        </ul>
    </nav>

    <div class="content">
        <section class="page-section active" id="house">
            <h2 class="section-title">Welcome!</h2>
            <div class="house-container">
                <div class="house-crest">🦡</div>
                <h3 style="color: #ffd700; font-size: 2em; margin-bottom: 20px;">Let this site fuel your curosity and explore!</h3>
                <p class="house-quote">"Take a look aroiund, stay as long as you'd like."</p>
                <p style="font-size: 1.3em; line-height: 1.6; margin-top: 30px;">
                    
                </p>
            </div>
        </section>

        <section class="page-section" id="potions">
            <h2 class="section-title">Potions & Magical Messages</h2>
            <div class="potions-container">
                <div class="potion-bottle" onclick="revealMessage(this)">
                    <span class="potion-icon">🧪</span>
                    <h3>Sleep Potion</h3>
                    <p>Helpful to find your dreams.</p>
                    <div class="potion-message"></div>
                </div>
                <div class="potion-bottle" onclick="revealMessage(this)">
                    <span class="potion-icon">✨</span>
                    <h3>Memory Elixir</h3>
                    <p>Click to unlock memories...</p>
                    <div class="potion-message">SIKE, there are no memories left.</div>
                </div>
                <div class="potion-bottle" onclick="revealMessage(this)">
                    <span class="potion-icon">🌟</span>
                    <h3>Courage Draught</h3>
                    <p>Discover your strength...</p>
                    <div class="potion-message"></div>
                </div>
                <div class="potion-bottle" onclick="revealMessage(this)">
                    <span class="potion-icon">💫</span>
                    <h3>Happiness Brew</h3>
                    <p>Find your joy...</p>
                    <div class="potion-message"></div>
                </div>
            </div>
        </section>

        <section class="page-section" id="map">
            <h2 class="section-title">The Marauder's Map</h2>
            <div class="map-container">
                <div class="map-location location-1" onclick="showLocation(this)">
                    📚<br>The Library
                </div>
                <div class="map-location location-2" onclick="showLocation(this)">
                    ⭐<br>Astronomy Tower
                </div>
                <div class="map-location location-3" onclick="showLocation(this)">
                    🍬<br>Honeydukes
                </div>
                <div class="map-location location-4" onclick="showLocation(this)">
                    🏠<br>Common Room
                </div>
                <div class="map-location location-5" onclick="showLocation(this)">
                    🍽️<br>Great Hall
                </div>
                <div class="map-location location-6" onclick="showLocation(this)">
                    🧪<br>Potions Classroom
                </div>
                
                <div class="location-details" id="location-1-details">
                    <h3>📚 The Library</h3>
                    <p>Here lie all our precious memories together in the school - every shared laugh, every quiet moment, every adventure we've embarked upon. Each memory is a chapter in our magical story.</p>
                </div>
                <div class="location-details" id="location-2-details">
                    <h3>⭐ Astronomy Tower</h3>
                    <p>Under these stars, located on the ceiling.</p>
                </div>
                <div class="location-details" id="location-3-details">
                    <h3>🍬 Honeydukes</h3>
                    <p>All the sweetest treats in the wizarding world: Chocolate Frogs, Bertie Bott's Every Flavour Beans, Fizzing Whizzbees.</p>
                </div>
                <div class="location-details" id="location-4-details">
                    <h3>🏠 Common Room</h3>
                    <p>Our cozy space filled with warmth, laughter.</p>
                </div>
                <div class="location-details" id="location-5-details">
                    <h3>🍽️ Great Hall</h3>
                    <p>The heart of Hogwarts, where we share meals, celebrate victories, and enjoy each other's company under the enchanted ceiling.</p>
                </div>
                <div class="location-details" id="location-6-details">
                    <h3>🧪 Potions Classroom</h3>
                    <p>Where we brew up new ideas and create magical concoctions.</p>
                </div>
            </div>
        </section>

        <section class="page-section" id="wand">
            <h2 class="section-title">Wave Your Magic Wand</h2>
            <div class="wand-container">
                <p style="font-size: 1.3em; margin-bottom: 30px; color: #ffd700;">
                    Click anywhere in the magical area below to cast a spell and reveal a special message...
                </p>
                <div class="wand-area" onclick="castSpell(event)" id="wandArea">
                    <p>✨ Cast your magic here ✨</p>
                    <div class="magic-message" id="magicMessage">
                        Your wand stinks.
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" id="diagon">
            <h2 class="section-title">Diagon Alley Shops</h2>
            <div class="shop-row">
                <div class="shop">
                    <span class="shop-icon">🪄</span>
                    <h3>Ollivanders</h3>
                    <p>Makers of Fine Wands since 382 B.C.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">📚</span>
                    <h3>Flourish and Blotts</h3>
                    <p>For all your spell book needs.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🦉</span>
                    <h3>Eeylops Owl Emporium</h3>
                    <p>Quality owls for all witches and wizards.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🍬</span>
                    <h3>Sugarplum's Sweets Shop</h3>
                    <p>Delicious candies and confections.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">💰</span>
                    <h3>Gringotts Wizarding Bank</h3>
                    <p>The safest place for your treasures.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">😂</span>
                    <h3>Weasleys' Wizard Wheezes</h3>
                    <p>For all your practical joke needs.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">👗</span>
                    <h3>Madam Malkin's Robes</h3>
                    <p>For all occasions, standard wizard wear.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">✨</span>
                    <h3>Potage's Cauldron Shop</h3>
                    <p>All sizes, copper, brass, pewter, and silver.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🧹</span>
                    <h3>Quality Quidditch Supplies</h3>
                    <p>The best brooms and Quidditch gear.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🌿</span>
                    <h3>Slug & Jiggers Apothecary</h3>
                    <p>Ingredients for all your potion needs.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🔮</span>
                    <h3>Magical Menagerie</h3>
                    <p>Pets of all kinds, from toads to Kneazles.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">✉️</span>
                    <h3>Scrivenshaft's Quill Shop</h3>
                    <p>Finest quills and parchment for all your writing.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">⚙️</span>
                    <h3>Gambol and Japes Wizarding Joke Shop</h3>
                    <p>Novelty items and gags for mischievous minds.</p>
                </div>
                 <div class="shop">
                    <span class="shop-icon">👕</span>
                    <h3>Obscurus Books</h3>
                    <p>Publisher of 'Fantastic Beasts and Where to Find Them'.</p>
                </div>
                <div class="shop">
                    <span class="shop-icon">🛒</span>
                    <h3>Borgin and Burkes</h3>
                    <p>Specializing in Dark Arts objects.</p>
                </div>
            </div>
        </section>

        <section class="page-section" id="spells">
            <h2 class="section-title">Your Spell Book</h2>
            <div class="spells-grid">
                <div class="spell-card" onclick="castSpellEffect(this, 'lumos')">
                    <h3 class="spell-name">Lumos</h3>
                    <p class="spell-incantation"><em>"Loo-mos"</em></p>
                    <p>Summons light to your wand tip, brightening the page.</p>
                    <div class="spell-effect">
                        <p></p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'alohomora')">
                    <h3 class="spell-name">Alohomora</h3>
                    <p class="spell-incantation"><em>"Al-loh-ho-MOR-ah"</em></p>
                    <p>Unlocks doors and windows.</p>
                    <div class="spell-effect">
                        <p></p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'reparo')">
                    <h3 class="spell-name">Reparo</h3>
                    <p class="spell-incantation"><em>"Re-PAIR-oh"</em></p>
                    <p>Repairs broken objects.</p>
                    <div class="spell-effect">
                        <p></p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'scourgify')">
                    <h3 class="spell-name">Scourgify</h3>
                    <p class="spell-incantation"><em>"SKUR-ji-fy"</em></p>
                    <p>Cleans objects.</p>
                    <div class="spell-effect">
                        <p></p>
                    </div>
                </div>
                 <div class="spell-card" onclick="castSpellEffect(this, 'levioso')">
                    <h3 class="spell-name">Levioso</h3>
                    <p class="spell-incantation"><em>"Le-vee-OH-so"</em></p>
                    <p>Makes an object levitate slightly.</p>
                    <div class="spell-effect">
                        <p>Feel lighter? This spell lifts burdens</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'confundo')">
                    <h3 class="spell-name">Confundo</h3>
                    <p class="spell-incantation"><em>"Con-FUN-doh"</em></p>
                    <p>Confuses the target, making the website feel a bit odd.</p>
                    <div class="spell-effect">
                        <p>Don't worry, the confusion is temporary!</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'protego')">
                    <h3 class="spell-name">Protego</h3>
                    <p class="spell-incantation"><em>"Pro-TAY-go"</em></p>
                    <p>Shield Charm, temporarily prevents interaction with the page.</p>
                    <div class="spell-effect">
                        <p>This shield protects.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'incendio')">
                    <h3 class="spell-name">Incendio</h3>
                    <p class="spell-incantation"><em>"In-SEN-dee-oh"</em></p>
                    <p>Produces flames; makes parts of the page glow red.</p>
                    <div class="spell-effect">
                        <p>Feel the warmth? </p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'expelliarmus')">
                    <h3 class="spell-name">Expelliarmus</h3>
                    <p class="spell-incantation"><em>"Ex-PELL-ee-ARM-us"</em></p>
                    <p>Disarming Charm; makes navigation items disappear briefly.</p>
                    <div class="spell-effect">
                        <p>This spell disarms obstacles.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'silencio')">
                    <h3 class="spell-name">Silencio</h3>
                    <p class="spell-incantation"><em>"Si-LEN-see-oh"</em></p>
                    <p>Silencing Charm; desaturates colors and pauses particles.</p>
                    <div class="spell-effect">
                        <p>A moment of quiet reflection.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'wingardium_leviosa')">
                    <h3 class="spell-name">Wingardium Leviosa</h3>
                    <p class="spell-incantation"><em>"Win-GAR-dee-um Le-vee-OH-sa"</em></p>
                    <p>Makes elements float and gently move.</p>
                    <div class="spell-effect">
                        <p>It's not just "Leviosa," it's "Levio-SAH"!</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'petrificus_totalus')">
                    <h3 class="spell-name">Petrificus Totalus</h3>
                    <p class="spell-incantation"><em>"Pe-TRIF-ih-cus To-TAH-lus"</em></p>
                    <p>Full Body-Bind Curse; temporarily freezes page interaction.</p>
                    <div class="spell-effect">
                        <p>A momentary pause!</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'reducto')">
                    <h3 class="spell-name">Reducto</h3>
                    <p class="spell-incantation"><em>"Re-DUK-toh"</em></p>
                    <p>Blasts solid objects; temporarily shrinks page content.</p>
                    <div class="spell-effect">
                        <p>Sometimes we need to make things smaller to see the bigger picture. Don't worry, everything returns to normal!</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'diffindo')">
                    <h3 class="spell-name">Diffindo</h3>
                    <p class="spell-incantation"><em>"Dih-FIN-doh"</em></p>
                    <p>Severing Charm; applies a subtle split effect to sections.</p>
                    <div class="spell-effect">
                        <p>This spell can separate things.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'episkey')">
                    <h3 class="spell-name">Episkey</h3>
                    <p class="spell-incantation"><em>"Ee-PIS-key"</em></p>
                    <p>Heals minor injuries; applies a warm, healing glow to the page.</p>
                    <div class="spell-effect">
                        <p>A touch of healing, a boost of well-being.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'obliviate')">
                    <h3 class="spell-name">Obliviate</h3>
                    <p class="spell-incantation"><em>"Oh-BLIV-ee-ate"</em></p>
                    <p>Memory Charm; subtly blurs the page temporarily.</p>
                    <div class="spell-effect">
                        <p>.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'expulso')">
                    <h3 class="spell-name">Expulso</h3>
                    <p class="spell-incantation"><em>"Ex-PUL-so"</em></p>
                    <p>Blasting Curse; gives a gentle shake to the page.</p>
                    <div class="spell-effect">
                        <p>.</p>
                    </div>
                </div>
                <div class="spell-card" onclick="castSpellEffect(this, 'muffliato')">
                    <h3 class="spell-name">Muffliato</h3>
                    <p class="spell-incantation"><em>"Muf-lee-AH-toh"</em></p>
                    <p>Muffling Charm; slightly dims the page.</p>
                    <div class="spell-effect">
                        <p>.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" id="creatures">
            <h2 class="section-title">Fantastic Beasts</h2>
            <div class="creatures-container">
                <div class="creature-card">
                    <span class="creature-emoji">🐉</span>
                    <h3 class="creature-name">Dragon</h3>
                    <p>Majestic and powerful, symbolizing your incredible strength and spirit.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🦄</span>
                    <h3 class="creature-name">Unicorn</h3>
                    <p>Pure and noble, reflecting your unique beauty and gentle heart.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🦅</span>
                    <h3 class="creature-name">Phoenix</h3>
                    <p>Resilient and ever-renewing, like your ability to overcome anything and always shine.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🐾</span>
                    <h3 class="creature-name">Niffler</h3>
                    <p>Charming and attracted to all things shiny, just like your attraction to joy and light.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🦉</span>
                    <h3 class="creature-name">Owl</h3>
                    <p>Wise and watchful, representing your keen intellect and insightful nature.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🦌</span>
                    <h3 class="creature-name">Hippogriff</h3>
                    <p>Proud and loyal, reflecting your dignity and steadfast companionship.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🌿</span>
                    <h3 class="creature-name">Bowtruckle</h3>
                    <p>Small, shy, and fiercely loyal, just like your protective nature.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🐺</span>
                    <h3 class="creature-name">Werewolf (Lupin)</h3>
                    <p>Complex and misunderstood, embodying the hidden depths of your character.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🧚</span>
                    <h3 class="creature-name">Fairy</h3>
                    <p>Delicate and enchanting, bringing a touch of wonder wherever you go.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🕷️</span>
                    <h3 class="creature-name">Acromantula</h3>
                    <p>Large, intelligent, and fiercely independent, a testament to your strong will.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🧜‍♀️</span>
                    <h3 class="creature-name">Merperson</h3>
                    <p>Mysterious and adaptable, thriving in your unique environment.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">👻</span>
                    <h3 class="creature-name">Ghost</h3>
                    <p>A friendly presence, always there with a spectral smile.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">✨</span>
                    <h3 class="creature-name">Thestral</h3>
                    <p>Seen only by those who understand loss, representing inner strength and unique perspective.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🌊</span>
                    <h3 class="creature-name">Grindylow</h3>
                    <p>Mischievous and aquatic, symbolizing the playful depths of your personality.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🐾</span>
                    <h3 class="creature-name">Occamy</h3>
                    <p>Chameleon-like and beautiful, representing your adaptability and rare charm.</p>
                </div>
                <div class="creature-card">
                    <span class="creature-emoji">🦁</span>
                    <h3 class="creature-name">Manticore</h3>
                    <p>Fierce and powerful, a symbol of your courage and protective instincts.</p>
                </div>
            </div>
        </section>

        <section class="page-section" id="quidditch">
            <h2 class="section-title">The Quidditch Pitch</h2>
            <div class="quidditch-field">
                <div class="golden-snitch" onclick="catchSnitch()">
                    ✨
                </div>
                <div class="quidditch-info">
                    <p style="font-size: 1.5em; color: #ffd700;">"I open at the close."</p>
                    <p style="font-size: 1.2em; margin-top: 20px;">
                        Catch the Golden Snitch for a special message!
                    </p>
                    <p id="snitch-message" style="display: none; font-size: 1.4em; color: #f4f4f4; margin-top: 20px;">
                        If this was a real game you'll have to be much quicker.
                    </p>
                </div>
            </div>
        </section>

        <section class="page-section" id="room">
            <h2 class="section-title">The Room of Requirement</h2>
            <div class="room-container">
                <p style="font-size: 1.3em; margin-bottom: 30px; color: #ffd700;">
                    The Room of Requirement appears only when a person has great need of it.
                    Click the door to reveal what you most desire...
                </p>
                <div class="room-door" onclick="revealWish()">
                    <div class="door-handle"></div>
                </div>
                <div class="room-wish" id="roomWish">
                    <p style="font-size: 1.6em; line-height: 1.6;">
                        This is an empty room.
                    </p>
                </div>
            </div>
        </section>

        <section class="page-section" id="classes">
            <h2 class="section-title">Attend Your Classes</h2>
            <div class="classes-grid">
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">✨</span>
                    <h3>Charms Class</h3>
                    <p>Learn to cast everyday spells.</p>
                    <div class="class-message">Today's lesson: spells</div>
                </div>
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">🧪</span>
                    <h3>Potions Class</h3>
                    <p>Brew powerful concoctions.</p>
                    <div class="class-message">Today's brew: Poisen!</div>
                </div>
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">🦋</span>
                    <h3>Transfiguration</h3>
                    <p>Transform objects and creatures.</p>
                    <div class="class-message">Today's transformation: Turn this book into a snake!</div>
                </div>
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">🦉</span>
                    <h3>Defense Against the Dark Arts</h3>
                    <p>Protect yourself from dark magic.</p>
                    <div class="class-message">Today's defense: Warding off the dark magic.</div>
                </div>
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">🌿</span>
                    <h3>Herbology</h3>
                    <p>Study magical plants.</p>
                    <div class="class-message">Today's plant: The Mimbulus Mimbletonia.</div>
                </div>
                <div class="class-card" onclick="attendClass(this)">
                    <span class="class-icon">🔭</span>
                    <h3>Astronomy</h3>
                    <p>Explore the cosmos and constellations.</p>
                    <div class="class-message"></div>
                </div>
            </div>
        </section>

        <section class="page-section" id="horcrux-hunt">
            <h2 class="section-title">The Horcrux Hunt</h2>
            <div class="horcrux-hunt-container">
                <p>Help Harry find and destroy the Horcruxes!</p>
                <div class="horcrux" id="horcrux-1" style="top: 15%; left: 20%;">💍</div>
                <div class="horcrux" id="horcrux-2" style="top: 30%; right: 25%;">🏆</div>
                <div class="horcrux" id="horcrux-3" style="bottom: 10%; left: 40%;">👑</div>
                <div class="horcrux" id="horcrux-4" style="top: 50%; left: 5%;">🐍</div>
                <div class="horcrux" id="horcrux-5" style="bottom: 20%; right: 15%;">📓</div>
                <div class="horcrux" id="horcrux-6" style="top: 5%; right: 5%;">⚡</div> <p id="horcrux-count">Horcruxes Found: 0 / 6</p>
                <p id="horcrux-message"></p>
            </div>
        </section>

        <section class="page-section" id="prophet">
            <h2 class="section-title">The Daily Prophet</h2>
            <div class="prophet-container">
                <h3 class="prophet-title">THE DAILY PROPHET</h3>
                <p class="prophet-subtitle">"All the news that's fit to print, and then some."</p>
                <div class="prophet-headlines">
                    <div class="prophet-headline" onclick="toggleProphetSnippet(this)">
                        MINISTRY CONFIRMS NEW ANTI-DARK ARTS MEASURES
                        <div class="prophet-snippet">
                            In a groundbreaking move, the Ministry of Magic has announced a series of robust anti-Dark Arts legislations, aimed at bolstering wizarding community safety. Dolores Umbridge reportedly fainted at the news.
                        </div>
                    </div>
                    <div class="prophet-headline" onclick="toggleProphetSnippet(this)">
                        QUIDDITCH WORLD CUP FEVER SWEEPS NATION
                        <div class="prophet-snippet">
                            Excitement is brewing as the final preparations for the upcoming Quidditch World Cup are underway. Pundits are split on whether Ireland's Banshees or Bulgaria's Bludgers will take home the coveted trophy.
                        </div>
                    </div>
                    <div class="prophet-headline" onclick="toggleProphetSnippet(this)">
                        DRAGON RESERVES REPORT RECORD HATCHINGS
                        <div class="prophet-snippet">
                            Conservationists at the Romanian Dragon Sanctuary are celebrating an unprecedented number of successful dragon hatchings this year, attributing it to new, more humane breeding practices. Charlie Weasley was seen beaming.
                        </div>
                    </div>
                    <div class="prophet-headline" onclick="toggleProphetSnippet(this)">
                        MUGGLE ARTIFACTS FOUND IN HOGWARTS BASEMENT
                        <div class="prophet-snippet">
                            A shocking discovery of peculiar Muggle artifacts, including a "television" and a "microwave," has been made in a forgotten chamber beneath Hogwarts. Headmistress McGonagall vows to investigate how they got there.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" id="sorting-hat">
            <h2 class="section-title">The Sorting Hat</h2>
            <div class="sorting-hat-container">
                <p style="font-size: 1.3em; margin-bottom: 30px; color: #ffd700;">
                    Put on the Sorting Hat to discover your true Hogwarts House!
                    Click the hat when you're ready.
                </p>
                <div class="sorting-hat" onclick="sortHouse()"></div>
                <div class="sorting-result" id="sortingResult"></div>
            </div>
        </section>




        <section class="page-section" id="potion-making">
            <h2 class="section-title">Potion Making</h2>
            <p>Combine ingredients to brew a potion! Drag ingredients into the cauldron.</p>
            <div class="potion-ingredients-container">
                <div class="ingredient" draggable="true" id="ingredient1">🕷️ Spider Legs</div>
                <div class="ingredient" draggable="true" id="ingredient2">🍄 Toadstools</div>
                <div class="ingredient" draggable="true" id="ingredient3">🌿 Dittany</div>
                <div class="ingredient" draggable="true" id="ingredient4">💧 Dragon Blood</div>
                <div class="ingredient" draggable="true" id="ingredient5">🌕 Moonstone</div>
            </div>
            <div class="cauldron-container">
                <div id="cauldron" class="cauldron">
                    <p class="cauldron-placeholder">Drop ingredients here</p>
                    </div>
                <button id="brewButton" class="brew-button">Brew Potion</button> </div>
            <p id="potionResult" class="potion-result"></p>
        </section>



        <section class="page-section" id="wizarding-events">
            <h2 class="section-title">Notable Wizarding Events & Dates</h2>
            <p style="margin-bottom: 30px; font-size: 1.1em; color: #e0b286;">
                "A glance through the annals of wizarding history."
            </p>
            <div class="events-grid">
                <div class="event-card">
                    <h3 class="event-year">c. 990 AD</h3>
                    <h4 class="event-name">Founding of Hogwarts</h4>
                    <p class="event-desc">Hogwarts School of Witchcraft and Wizardry is founded by Godric Gryffindor, Helga Hufflepuff, Rowena Ravenclaw, and Salazar Slytherin.</p>
                </div>

                <div class="event-card">
                    <h3 class="event-year">1707</h3>
                    <h4 class="event-name">Establishment of the Ministry of Magic</h4>
                    <p class="event-desc">The Ministry of Magic is officially established in Britain, replacing the older Wizards' Council.</p>
                </div>

                <div class="event-card">
                    <h3 class="event-year">1945</h3>
                    <h4 class="event-name">Dumbledore Defeats Grindelwald</h4>
                    <p class="event-desc">Albus Dumbledore defeats the dark wizard Gellert Grindelwald in a legendary duel, ending the Global Wizarding War.</p>
                </div>

                <div class="event-card">
                    <h3 class="event-year">October 31, 1981</h3>
                    <h4 class="event-name">The Downfall of Lord Voldemort (First Time)</h4>
                    <p class="event-desc">Lord Voldemort attempts to kill Harry Potter but is defeated, leading to his apparent demise and the end of the First Wizarding War.</p>
                </div>

                <div class="event-card">
                    <h3 class="event-year">May 2, 1998</h3>
                    <h4 class="event-name">Battle of Hogwarts</h4>
                    <p class="event-desc">The climactic battle of the Second Wizarding War, resulting in Lord Voldemort's final defeat and the triumph of good over evil.</p>
                </div>

                <div class="event-card">
                    <h3 class="event-year">December 25 (Annually)</h3>
                    <h4 class="event-name">Christmas Feast at Hogwarts</h4>
                    <p class="event-desc">A joyous annual celebration with lavish decorations, traditional food, and magical festivities.</p>
                </div>
            </div>
            <p style="margin-top: 20px; font-size: 0.9em; color: #a08060;">
                "History is filled with magic, both dark and light."
            </p>
        </section>

        <section class="page-section" id="magical-plants">
            <h2 class="section-title">Magical Plants & Herbology</h2>
            <p style="margin-bottom: 30px; font-size: 1.1em; color: #b0e066;">
                "Explore the enchanting and often dangerous flora of the wizarding world!"
            </p>
            <div class="plants-grid">
                <div class="plant-card">
                    <img src="images/Mandrake.png" alt="Mandrakes" class="plant-img">                    <h3 class="plant-name">Mandrakes</h3>
                    <p class="plant-desc">Re-potting these crying plants can be dangerous! Their cry is fatal to anyone who hears it fully grown. Essential for restorative draughts.</p>
                </div>

                <div class="plant-card">
                    <img src="images/devilsnare.jpg" alt="Devil Snare" class="plant-img">
                    <h3 class="plant-name">Devil's Snare</h3>
                    <p class="plant-desc">A highly dangerous plant that constricts anything that touches it. It thrives in darkness and dampness, and recoils from light and fire.</p>
                </div>

                <div class="plant-card">
                    <img src="images/willow.jpg" alt="Devil Snare" class="plant-img">
                    <h3 class="plant-name">Whomping Willow</h3>
                    <p class="plant-desc">A violent, sentient tree on the Hogwarts grounds that attacks anything that comes within reach of its branches.</p>
                </div>

                <div class="plant-card">
                    <img src="images/mim.png" alt="Devil Snare" class="plant-img">
                    <h3 class="plant-name">Mimbulus Mimbletonia</h3>
                    <p class="plant-desc">A rare magical plant that resembles a grey, pulsating cactus. When poked, it squirts out foul-smelling dark green liquid (Stinksap).</p>
                </div>

                <div class="plant-card">
                    <img src="images/snar.jpg" alt="Devil Snare" class="plant-img">
                    <h3 class="plant-name">Snargaluff</h3>
                    <p class="plant-desc">A carnivorous plant that resembles a gnarled stump. Its dangerous pods contain precious Wrackspurts that must be extracted carefully.</p>
                </div>
            </div>
            <p style="margin-top: 20px; font-size: 0.9em; color: #8fbc8f;">
                "Always remember your Dragon Hide gloves in Greenhouse Three!"
            </p>
        </section>


        <section class="page-section" id="wizarding-careers">
            <h2 class="section-title">Wizarding Professions & Careers</h2>
            <p style="margin-bottom: 30px; font-size: 1.1em; color: #a9a9a9;">
                "Discover where your magical education can take you after graduation."
            </p>
            <div class="careers-grid">
                <div class="career-card">
                    <h3 class="career-title">Auror</h3>
                    <p class="career-desc">Highly trained dark wizard catchers who serve as elite law enforcement, protecting the wizarding world from dark magic and criminals.</p>
                    <p class="career-example">Notable: Alastor 'Mad-Eye' Moody, Kingsley Shacklebolt, Harry Potter</p>
                </div>

                <div class="career-card">
                    <h3 class="career-title">Healer</h3>
                    <p class="career-desc">Witches and wizards who work at St. Mungo's Hospital for Magical Maladies and Injuries, specializing in magical healing and medicine.</p>
                    <p class="career-example">Notable: Augustus Pye, Hippocrates Smethwyck</p>
                </div>

                <div class="career-card">
                    <h3 class="career-title">Magizoologist</h3>
                    <p class="career-desc">Experts in the study, care, and control of magical creatures, often traveling the world to research and protect rare species.</p>
                    <p class="career-example">Notable: Newt Scamander, Luna Lovegood (later)</p>
                </div>

                <div class="career-card">
                    <h3 class="career-title">Wandmaker</h3>
                    <p class="career-desc">Highly skilled artisans who craft and sell wands, each unique and suited to its wizard or witch. A profound and intricate magical art.</p>
                    <p class="career-example">Notable: Garrick Ollivander, Gregorovich</p>
                </div>

                <div class="career-card">
                    <h3 class="career-title">Professor</h3>
                    <p class="career-desc">Educators at wizarding schools, passing on their knowledge of subjects like Potions, Charms, Transfiguration, and Defence Against the Dark Arts.</p>
                    <p class="career-example">Notable: Minerva McGonagall, Severus Snape, Filius Flitwick</p>
                </div>

                <div class="career-card">
                    <h3 class="career-title">Curse-Breaker</h3>
                    <p class="career-desc">Wizards and witches employed by Gringotts Wizarding Bank to recover treasure from ancient tombs and cursed sites around the world.</p>
                    <p class="career-example">Notable: Bill Weasley</p>
                </div>
            </div>
            <p style="margin-top: 20px; font-size: 0.9em; color: #808080;">
                "The world is vast, and magic awaits those with ambition."
            </p>
        </section>


    </div>

    <script>
        // Initialize particles
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: "#ffd700" },
                shape: { type: "star" },
                opacity: { value: 0.6, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: false },
                move: {
                    enable: true,
                    speed: 1,
                    direction: "none",
                    random: true,
                    straight: false,
                    out_mode: "out",
                    bounce: false
                }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "repulse" },
                    onclick: { enable: true, mode: "push" },
                    resize: true
                }
            },
            retina_detect: true
        });

        // Enter Hogwarts function
        function enterHogwarts() {
            document.getElementById('letterModal').style.animation = 'fadeIn 1s ease-out reverse';
            setTimeout(() => {
                document.getElementById('letterModal').style.display = 'none';
                document.getElementById('navigation').style.display = 'block';
                document.getElementById('navigation').style.animation = 'fadeIn 1s ease-in';
                startFloatingLetters(); // Start floating letters when entering
            }, 1000);
        }

        // Floating Letters
        function startFloatingLetters() {
            const body = document.body;
            setInterval(() => {
                const letter = document.createElement('div');
                letter.className = 'floating-letter';
                letter.innerHTML = '✉️'; // Envelope emoji
                letter.style.left = Math.random() * 100 + 'vw';
                letter.style.animationDuration = (Math.random() * 10 + 10) + 's'; // 10-20 seconds
                body.appendChild(letter);

                setTimeout(() => {
                    letter.remove();
                }, parseFloat(letter.style.animationDuration) * 1000);
            }, 1000); // Create a new letter every 1 second
        }


        // Navigation functions
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.page-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Use event.currentTarget for reliability in older browsers or if direct parent is not <li>
            const clickedNavItem = event.currentTarget;
            clickedNavItem.classList.add('active');

            // Reset Horcrux Hunt if navigating away and back
            if (sectionId === 'horcrux-hunt') {
                resetHorcruxHunt();
            }
             // Reset Sorting Hat if navigating away and back
            if (sectionId === 'sorting-hat') {
                document.getElementById('sortingResult').style.display = 'none';
                document.getElementById('sortingResult').textContent = '';
            }
        }

        // Potion bottle function
        function revealMessage(bottle) {
            const message = bottle.querySelector('.potion-message');
            const isVisible = message.style.display === 'block';
            
            // Hide all other messages
            document.querySelectorAll('.potion-message').forEach(msg => {
                msg.style.display = 'none';
            });
            
            // Toggle current message
            message.style.display = isVisible ? 'none' : 'block';
            
            if (!isVisible) {
                message.style.animation = 'magicAppear 1s ease-out';
            }
        }

        // Map location function
        function showLocation(location) {
            // Hide all location details
            document.querySelectorAll('.location-details').forEach(detail => {
                detail.style.display = 'none';
            });
            
            // Show selected location details
            const locationClass = Array.from(location.classList).find(cls => cls.startsWith('location-')); 
            const detailsId = locationClass + '-details';
            const details = document.getElementById(detailsId);
            
            if (details) {
                details.style.display = 'block';
                
                // Adjust position relative to the clicked map location, within the map container
                const mapContainer = location.closest('.map-container');
                const locationRect = location.getBoundingClientRect();
                const mapRect = mapContainer.getBoundingClientRect();

                // Calculate relative position within map container
                let detailsLeft = locationRect.left - mapRect.left + (location.offsetWidth / 2);
                let detailsTop = locationRect.top - mapRect.top + location.offsetHeight + 10; // 10px below location

                details.style.left = detailsLeft + 'px';
                details.style.top = detailsTop + 'px';

                // Basic bounds checking for details within map container
                details.style.transform = 'translate(-50%, 0)'; // Center horizontally
                
                // Ensure it stays within horizontal bounds
                if (detailsLeft + details.offsetWidth / 2 > mapContainer.offsetWidth) {
                    details.style.left = (mapContainer.offsetWidth - details.offsetWidth / 2) + 'px';
                }
                if (detailsLeft - details.offsetWidth / 2 < 0) {
                    details.style.left = (details.offsetWidth / 2) + 'px';
                }

                // Ensure it stays within vertical bounds
                if (detailsTop + details.offsetHeight > mapContainer.offsetHeight) {
                    details.style.top = (locationRect.top - mapRect.top - details.offsetHeight - 10) + 'px'; // Position above if no space below
                }
                if (detailsTop < 0) {
                     details.style.top = (locationRect.top - mapRect.top + location.offsetHeight + 10) + 'px'; // Position below if too high
                }

                details.style.animation = 'magicAppear 0.5s ease-out';
            }
        }

        // Magic wand function
        function castSpell(event) {
            const wandArea = document.getElementById('wandArea');
            const magicMessage = document.getElementById('magicMessage');
            
            // Create magic particles
            for (let i = 0; i < 12; i++) {
                createMagicParticle(event.clientX - wandArea.offsetLeft, event.clientY - wandArea.offsetTop, wandArea);
            }
            
            // Show magic message
            setTimeout(() => {
                wandArea.querySelector('p').style.display = 'none';
                magicMessage.style.display = 'block';
            }, 500);
        }

        function createMagicParticle(x, y, parent) {
            const particle = document.createElement('div');
            particle.className = 'magic-particle';
            particle.innerHTML = ['✨', '⭐', '💫', '🌟'][Math.floor(Math.random() * 4)];
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            parent.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 1000);
        }

        // Spell effects functions
        function castSpellEffect(spellCard, spellName) {
            const spellEffect = spellCard.querySelector('.spell-effect');
            const isVisible = spellEffect.style.display === 'block';

            // Hide all other spell effects messages
            document.querySelectorAll('.spell-effect').forEach(effect => {
                effect.style.display = 'none';
            });

            // Toggle current spell effect message
            spellEffect.style.display = isVisible ? 'none' : 'block';
            if (!isVisible) {
                spellEffect.style.animation = 'magicAppear 0.5s ease-out';
            }

            // Remove all temporary spell classes before applying a new one
            document.body.classList.remove('lumos-active', 'confundo-active', 'protego-active', 'silencio-active', 'petrificus-active');
            document.querySelectorAll('.page-section.active > *').forEach(el => {
                el.style.filter = ''; // Reset filter for Incendio, Obliviate
                el.style.transform = ''; // Reset transform for Reducto, Diffindo, Expulso, Wingardium Leviosa
                el.style.transition = ''; // Reset transition
                el.style.opacity = ''; // Reset opacity for Muffliato
            });
            document.getElementById('navigation').style.display = 'block'; // Ensure nav is visible for Expelliarmus reset
            if (particlesJS.pJS) { // Restart particles if they were paused
                particlesJS.pJS.particles.move.enable = true;
                particlesJS.pJS.fn.particlesMover();
            }
            document.body.style.transform = ''; // Reset for Confundo
            document.body.style.filter = ''; // Reset for Episkey

            // Apply specific spell visual/interactive effects
            switch (spellName) {
                case 'lumos':
                    applyLumos();
                    break;
                case 'levioso':
                    applyLevioso();
                    break;
                case 'confundo':
                    applyConfundo();
                    break;
                case 'protego':
                    applyProtego();
                    break;
                case 'incendio':
                    applyIncendio();
                    break;
                case 'expelliarmus':
                    applyExpelliarmus();
                    break;
                case 'silencio':
                    applySilencio();
                    break;
                case 'wingardium_leviosa':
                    applyWingardiumLeviosa();
                    break;
                case 'petrificus_totalus':
                    applyPetrificusTotalus();
                    break;
                case 'reducto':
                    applyReducto();
                    break;
                case 'diffindo':
                    applyDiffindo();
                    break;
                case 'episkey':
                    applyEpiskey();
                    break;
                case 'obliviate':
                    applyObliviate();
                    break;
                case 'expulso':
                    applyExpulso();
                    break;
                case 'muffliato':
                    applyMuffliato();
                    break;
                default:
                    // For Alohomora, Reparo, Scourgify, just show the message
                    break;
            }
        }

        function applyLumos() {
            document.body.classList.add('lumos-active');
            setTimeout(() => {
                document.body.classList.remove('lumos-active');
            }, 2000); // Effect lasts for 2 seconds
        }

        function applyLevioso() {
            const sections = document.querySelectorAll('.page-section.active > *'); // Target elements within the active section
            sections.forEach((element, index) => {
                // Exclude the navigation, particles, and letter modal
                if (!element.closest('.nav-container') && !element.id.includes('particles') && !element.id.includes('letterModal')) {
                    setTimeout(() => {
                        element.classList.add('levitate');
                        setTimeout(() => {
                            element.classList.remove('levitate');
                        }, 2000); // Levitate for 2 seconds
                    }, index * 100); // Stagger the effect
                }
            });
        }

        function applyConfundo() {
            document.body.classList.add('confundo-active');
            setTimeout(() => {
                document.body.classList.remove('confundo-active');
            }, 3000); // Effect lasts for 3 seconds
        }

        function applyProtego() {
            document.body.classList.add('protego-active');
            setTimeout(() => {
                document.body.classList.remove('protego-active');
            }, 3000); // Effect lasts for 3 seconds
        }
        
        function applyIncendio() {
            document.body.classList.add('incendio-active');
            setTimeout(() => {
                document.body.classList.remove('incendio-active');
            }, 1500); // Effect lasts for 1.5 seconds
        }

        function applyExpelliarmus() {
            const nav = document.getElementById('navigation');
            nav.style.display = 'none';
            setTimeout(() => {
                nav.style.display = 'block';
            }, 1000); // Nav disappears for 1 second
        }

        function applySilencio() {
            document.body.classList.add('silencio-active');
            if (particlesJS.pJS) { // Pause particles
                particlesJS.pJS.particles.move.enable = false;
            }
            setTimeout(() => {
                document.body.classList.remove('silencio-active');
                if (particlesJS.pJS) { // Restart particles
                    particlesJS.pJS.particles.move.enable = true;
                    particlesJS.pJS.fn.particlesMover(); // Force restart
                }
            }, 3000); // Effect lasts for 3 seconds
        }

        function applyWingardiumLeviosa() {
            const sections = document.querySelectorAll('.page-section.active > *');
            sections.forEach(element => {
                if (!element.closest('.nav-container') && !element.id.includes('particles') && !element.id.includes('letterModal')) {
                    const startX = (Math.random() - 0.5) * 50; // -25 to 25px
                    const startY = (Math.random() - 0.5) * 50; // -25 to 25px
                    element.style.transition = 'transform 2s ease-in-out';
                    element.style.transform = `translate(${startX}px, ${startY}px) scale(1.05)`;
                    setTimeout(() => {
                        element.style.transform = '';
                        element.style.transition = '';
                    }, 2000);
                }
            });
        }

        function applyPetrificusTotalus() {
            document.body.classList.add('petrificus-active');
            setTimeout(() => {
                document.body.classList.remove('petrificus-active');
            }, 2500); // Effect lasts for 2.5 seconds
        }

        function applyReducto() {
            const content = document.querySelector('.content');
            content.style.transition = 'transform 0.5s ease-in-out';
            content.style.transform = 'scale(0.8)';
            setTimeout(() => {
                content.style.transform = '';
                content.style.transition = '';
            }, 1000); // Effect lasts for 1 second
        }

        function applyDiffindo() {
            const sections = document.querySelectorAll('.page-section.active > *');
            sections.forEach((element, index) => {
                if (!element.closest('.nav-container') && !element.id.includes('particles') && !element.id.includes('letterModal')) {
                    const offset = (index % 2 === 0 ? -10 : 10); // Stagger left/right
                    element.style.transition = 'transform 0.5s ease-in-out';
                    element.style.transform = `translateX(${offset}px)`;
                    setTimeout(() => {
                        element.style.transform = '';
                        element.style.transition = '';
                    }, 1000);
                }
            });
        }

        function applyEpiskey() {
            const sections = document.querySelectorAll('.page-section.active > *');
            sections.forEach((element, index) => {
                if (!element.closest('.nav-container') && !element.id.includes('particles') && !element.id.includes('letterModal')) {
                    element.style.transition = 'box-shadow 0.5s ease-in-out, filter 0.5s ease-in-out';
                    element.style.boxShadow = '0 0 25px rgba(255, 223, 0, 0.8), inset 0 0 15px rgba(255, 223, 0, 0.5)';
                    element.style.filter = 'brightness(1.1)';
                    setTimeout(() => {
                        element.style.boxShadow = '';
                        element.style.filter = '';
                        element.style.transition = '';
                    }, 1500);
                }
            });
        }

        function applyObliviate() {
            document.body.style.transition = 'filter 1s ease-in-out';
            document.body.style.filter = 'blur(5px)';
            setTimeout(() => {
                document.body.style.filter = '';
                document.body.style.transition = '';
            }, 2000);
        }

        function applyExpulso() {
            document.body.style.transition = 'transform 0.1s ease-in-out';
            document.body.style.transform = 'translateX(-5px)';
            setTimeout(() => {
                document.body.style.transform = 'translateX(5px)';
                setTimeout(() => {
                    document.body.style.transform = '';
                    document.body.style.transition = '';
                }, 100);
            }, 100);
        }

        function applyMuffliato() {
            document.body.style.transition = 'filter 1s ease-in-out';
            document.body.style.filter = 'brightness(0.7)';
            setTimeout(() => {
                document.body.style.filter = '';
                document.body.style.transition = '';
            }, 2000);
        }

        // Catch the Golden Snitch
        function catchSnitch() {
            const snitchMessage = document.getElementById('snitch-message');
            snitchMessage.style.display = 'block';
            snitchMessage.style.animation = 'magicAppear 1s ease-out';
            // Optionally, make the snitch disappear or change
            event.target.style.display = 'none';
        }

        // Reveal wish in Room of Requirement
        function revealWish() {
            const roomWish = document.getElementById('roomWish');
            roomWish.style.display = 'block';
        }

        // Attend Class function
        function attendClass(card) {
            const message = card.querySelector('.class-message');
            const isVisible = message.style.display === 'block';

            document.querySelectorAll('.class-message').forEach(msg => {
                msg.style.display = 'none';
            });

            message.style.display = isVisible ? 'none' : 'block';
            if (!isVisible) {
                message.style.animation = 'magicAppear 1s ease-out';
            }
        }

        // Horcrux Hunt Game
        // Horcrux Hunt
        const horcruxes = document.querySelectorAll('.horcrux');
        const horcruxMessage = document.getElementById('horcrux-message');
        let foundHorcruxes = 0;
        const totalHorcruxes = 6;

        horcruxes.forEach(horcrux => {
            horcrux.addEventListener('click', () => {
                if (!horcrux.classList.contains('found')) {
                    horcrux.classList.add('found');
                    horcrux.style.opacity = '0.3'; // Make it semi-transparent
                    foundHorcruxes++;
                    document.getElementById('horcrux-count').innerText = `Horcruxes Found: ${foundHorcruxes}/${totalHorcruxes}`;
                    
                    let message = "";
                    if (foundHorcruxes === 1) {
                        message = "You found the first Horcrux! Only a few more to go...";
                    } else if (foundHorcruxes === totalHorcruxes) {
                        message = "Congratulations! You have found all the Horcruxes and defeated the Dark Lord!";
                    } else {
                        message = `Another Horcrux found! ${totalHorcruxes - foundHorcruxes} remaining.`;
                    }
                    
                    horcruxMessage.innerText = message;
                    horcruxMessage.style.display = 'block';
                    setTimeout(() => {
                        horcruxMessage.style.display = 'none';
                    }, 10000); // Message will now disappear after 5 seconds
                }
            });
        });

        function resetHorcruxHunt() {
            horcruxesFound = 0;
            horcruxCountDisplay.textContent = `Horcruxes Found: 0 / ${totalHorcruxes}`;
            horcruxMessageDisplay.style.display = 'none';
            document.querySelectorAll('.horcrux').forEach(horcrux => {
                horcrux.classList.remove('found');
                horcrux.style.opacity = '';
                horcrux.style.filter = '';
            });
        }

        // Daily Prophet
        function toggleProphetSnippet(headlineElement) {
            const snippet = headlineElement.querySelector('.prophet-snippet');
            const isVisible = snippet.style.display === 'block';

            // Hide all other snippets first
            document.querySelectorAll('.prophet-snippet').forEach(s => s.style.display = 'none');

            // Toggle the clicked snippet
            if (!isVisible) {
                snippet.style.display = 'block';
                snippet.style.animation = 'fadeIn 0.5s ease-in-out';
            } else {
                snippet.style.display = 'none';
            }
        }

        // Sorting Hat
        function sortHouse() {
            const houses = ['Gryffindor!', 'Hufflepuff!', 'Ravenclaw!', 'Slytherin!'];
            const randomHouse = houses[Math.floor(Math.random() * houses.length)];
            const sortingResult = document.getElementById('sortingResult');

            sortingResult.textContent = `The Sorting Hat says... ${randomHouse}`;
            sortingResult.style.display = 'block';
            
            // Apply house-specific styling if desired
            let houseColor = '';
            switch (randomHouse) {
                case 'Gryffindor!': houseColor = '#800000'; break; // Dark Red
                case 'Hufflepuff!': houseColor = '#FFD700'; break; // Gold
                case 'Ravenclaw!': houseColor = '#000080'; break; // Navy Blue
                case 'Slytherin!': houseColor = '#006400'; break; // Dark Green
            }
            sortingResult.style.color = houseColor;
            sortingResult.style.borderColor = houseColor;
            sortingResult.style.borderLeft = `4px solid ${houseColor}`;

            // Optional: Make the hat "think"
            const sortingHat = document.querySelector('.sorting-hat');
            sortingHat.style.animation = 'none'; // Reset animation
            sortingHat.offsetHeight; // Trigger reflow
            sortingHat.style.animation = 'levitateEffect 1s infinite alternate'; // Make it slightly jiggle

            setTimeout(() => {
                sortingHat.style.animation = 'none'; // Stop jiggling
            }, 2000); // Jiggle for 2 seconds before revealing result
        }


        // Hide location details when clicking elsewhere
        document.addEventListener('click', function(event) {
            // Check if the click was inside a map-location or location-details
            const isClickInsideMapLocation = event.target.closest('.map-location');
            const isClickInsideLocationDetails = event.target.closest('.location-details');
            const isClickInsideProphetHeadline = event.target.closest('.prophet-headline');


            if (!isClickInsideMapLocation && !isClickInsideLocationDetails) {
                document.querySelectorAll('.location-details').forEach(detail => {
                    detail.style.display = 'none';
                });
            }
            if (!isClickInsideProphetHeadline) {
                 document.querySelectorAll('.prophet-snippet').forEach(s => s.style.display = 'none');
            }
        });

        // Auto-hide letter modal after 8 seconds if not clicked
        setTimeout(() => {
            if (document.getElementById('letterModal').style.display !== 'none') {
                enterHogwarts();
            }
        }, 8000);


        // Defence Against the Dark Arts Logic
        const duelingDummy = document.getElementById('duelingDummy');
        const dadaSpellInput = document.getElementById('dadaSpellInput');
        const castDadaSpellBtn = document.getElementById('castDadaSpellBtn');
        const dummyReactionDiv = document.getElementById('dummyReaction');

        castDadaSpellBtn.addEventListener('click', () => {
            const spell = dadaSpellInput.value.trim().toLowerCase();

            // Reset dummy and reaction display to their default states
            duelingDummy.className = 'dueling-dummy'; // Remove any previous effect classes
            dummyReactionDiv.textContent = '';
            dummyReactionDiv.style.animation = 'none'; // Clear previous animation from text
            void dummyReactionDiv.offsetWidth; // Trigger reflow to restart animation

            let reactionText = '';
            let dummyEffectClass = '';

            switch (spell) {
                case 'stupefy':
                    reactionText = '💥 STUNNED! 💥';
                    dummyEffectClass = 'stunned'; // Apply CSS class for stun effect
                    break;
                case 'expelliarmus':
                    reactionText = '⚡ DISARMED! ⚡';
                    dummyEffectClass = 'expelled'; // Apply CSS class for expel effect
                    break;
                case 'reducto':
                    reactionText = '☄️ REDUCED! ☄️';
                    dummyEffectClass = 'reducted'; // Apply CSS class for reducto effect
                    break;
                case 'rictusempra':
                    reactionText = '😂 TICKLED! 😂';
                    // No specific dummy class for Rictusempra, can add later if desired
                    break;
                default:
                    reactionText = '🚫 Miss! Try again. 🚫';
                    break;
            }

            // Apply dummy effect class if specified
            if (dummyEffectClass) {
                duelingDummy.classList.add(dummyEffectClass);
            }
            
            // Display reaction text and start its animation
            dummyReactionDiv.textContent = reactionText;
            dummyReactionDiv.style.animation = 'fadeInOut 1.5s ease-out forwards';

            dadaSpellInput.value = ''; // Clear the input field

            // Reset dummy and reaction text after the animation finishes
            setTimeout(() => {
                duelingDummy.className = 'dueling-dummy'; // Reset all classes on dummy
                dummyReactionDiv.textContent = '';
                dummyReactionDiv.style.animation = 'none'; // Stop reaction text animation
            }, 1500); // Matches the duration of the fadeInOut animation
        });





        

    </script>
</body>
</html>